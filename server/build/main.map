{"version":3,"sources":["webpack:///webpack/bootstrap c727a52600e9c369a7b7","webpack:///./src/lib/config.js","webpack:///./src/index.js","webpack:///./src/modules/folderWalker.js","webpack:///external \"fs\"","webpack:///external \"express\"","webpack:///external \"http\""],"names":["folderPath","jsonPath","express","require","app","http","Server","port","use","req","res","next","header","get","readFolders","then","send","response","listen","console","log","fs","folder","promiseHolder","filesInFolder","Promise","resolve","reject","readdir","err","files","name","type","folders","i","length","tmpObj","lstatSync","isDirectory","push","all","writeToJSON","catch","obj","writeFile","JSON","stringify"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c727a52600e9c369a7b7","function folderPath() {\n  return '../../selfpoint/'\n}\n\nfunction jsonPath(){\n  return '../data.json'\n}\n\n\nexport {folderPath, jsonPath}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/config.js","import {readFolders} from './modules/folderWalker'\nconst express = require('express')\nlet app = express()\nconst http = require('http').Server(app)\nconst port = 1337\nimport {folderPath} from './lib/config'\n\n\napp.use(function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*')\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept')\n  next()\n})\n\napp.get('/getFolders', function (req, res) {\n  readFolders(folderPath())\n  .then(response => res.send(response))\n})\n\napp.listen(port, function() {\n  console.log('Our app is running on http://localhost:' + port)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const fs = require('fs')\nimport {jsonPath} from '../lib/config'\n\nfunction readFolders(folder) {\n  let promiseHolder = []\n  let filesInFolder = {}\n\n  return new Promise(function(resolve, reject) {\n    fs.readdir(folder, (err, files) => {\n      filesInFolder.folder = {}\n      filesInFolder.folder.name = folder\n      filesInFolder.folder.type = 'folder'\n      filesInFolder.files = []\n      filesInFolder.folders = []\n\n      for (let i = 0; i < files.length; i++) {\n        console.log(files)\n        let tmpObj = {}\n        if (fs.lstatSync(folder + '/' +files[i]).isDirectory()) {\n          promiseHolder.push(readFolders(folder+ '/' + files[i]))\n        } else {\n          tmpObj.name = files[i]\n          tmpObj.type = 'file'\n          filesInFolder.files.push(tmpObj)\n        }\n      }\n\n      return Promise.all(promiseHolder)\n      .then(res => {\n        filesInFolder.folders.push(res)\n        writeToJSON(filesInFolder)\n        resolve(filesInFolder)\n      })\n      .catch(err => console.log(err))\n    })\n  })\n\n}\n\nfunction writeToJSON(obj) {\n  fs.writeFile(jsonPath(), JSON.stringify(obj), 'utf8', function (err) {\n    if (err) {\n      return console.log(err)\n    }\n    console.log('The file was saved!')\n  })\n}\n\nexport{readFolders, writeToJSON}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/folderWalker.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}