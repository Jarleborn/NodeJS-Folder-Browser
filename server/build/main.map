{"version":3,"sources":["webpack:///webpack/bootstrap 6b034f2b668f6d1af517","webpack:///./src/index.js","webpack:///./src/modules/folderWalker.js","webpack:///external \"fs\"","webpack:///./lib/data.json","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"cors\""],"names":["express","require","app","http","Server","port","cors","use","req","res","next","header","get","readFolders","then","send","response","listen","console","log","fs","data","folder","promiseHolder","filesInFolder","Promise","resolve","reject","readdir","err","files","folders","i","length","lstatSync","isDirectory","push","all","writeToJSON","catch","obj","writeFile","JSON","stringify","returnData"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6b034f2b668f6d1af517","import {readFolders} from './modules/folderWalker'\nconst express = require('express')\nlet app = express()\nconst http = require('http').Server(app)\nconst port = 1337\nconst cors = require('cors')\n\napp.use(function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*')\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept')\n  next()\n})\n\napp.get('/test2', function (req, res) {\n  readFolders('./src/folders')\n  .then(response => res.send(response))\n})\napp.listen(port, function() {\n  console.log('Our app is running on http://localhost:' + port)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const fs = require('fs')\nconst data = require('../../lib/data.json')\n\nfunction readFolders(folder) {\n  let promiseHolder = []\n  let filesInFolder = {}\n  return new Promise(function(resolve, reject) {\n    fs.readdir(folder, (err, files) => {\n\n      filesInFolder.folder = folder\n      filesInFolder.files = []\n      filesInFolder.folders = []\n\n      for (let i = 0; i < files.length; i++) {\n\n        if (fs.lstatSync(folder + '/' +files[i]).isDirectory()) {\n          promiseHolder.push(readFolders(folder+ '/' + files[i]))\n        } else {\n          filesInFolder.files.push(files[i])\n        }\n      }\n      return Promise.all(promiseHolder)\n      .then(res => {\n        console.log(res)\n        filesInFolder.folders.push(res)\n        writeToJSON(filesInFolder)\n        resolve(filesInFolder)\n      })\n      .catch(err => console.log(err))\n    })\n  })\n\n}\n\nfunction writeToJSON(obj) {\n  // console.log(obj)\n  fs.writeFile('./lib/data.json', JSON.stringify(obj), 'utf8', function (err) {\n    if (err) {\n      return console.log(err)\n    }\n    console.log('The file was saved!')\n  })\n}\n\nfunction returnData() {\n  return data\n}\nexport{readFolders, writeToJSON}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/folderWalker.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 3\n// module chunks = 0","module.exports = {\"folder\":\"./src/folders\",\"files\":[\"hej\",\"hop\",\"san\"],\"folders\":[[{\"folder\":\"./src/folders/bar\",\"files\":[\"bar\",\"ff\",\"flo\",\"foo\"],\"folders\":[[]]},{\"folder\":\"./src/folders/fold\",\"files\":[\"bar\",\"ff\",\"flo\",\"foo\",\"hoj\"],\"folders\":[[{\"folder\":\"./src/folders/fold/blaw\",\"files\":[\"1\",\"2\"],\"folders\":[[{\"folder\":\"./src/folders/fold/blaw/hoppla\",\"files\":[\"78\"],\"folders\":[[]]}]]},{\"folder\":\"./src/folders/fold/yo\",\"files\":[\"1\",\"2\",\"3\",\"4\"],\"folders\":[[]]}]]},{\"folder\":\"./src/folders/foo\",\"files\":[],\"folders\":[[{\"folder\":\"./src/folders/foo/woo\",\"files\":[\"w\",\"www\",\"wwww\"],\"folders\":[[]]},{\"folder\":\"./src/folders/foo/wop\",\"files\":[\"hip\",\"hop\"],\"folders\":[[]]}]]},{\"folder\":\"./src/folders/test\",\"files\":[],\"folders\":[[{\"folder\":\"./src/folders/test/c#\",\"files\":[\"yo.cs\",\"yoy.cs\",\"yoyo.cs\"],\"folders\":[[]]},{\"folder\":\"./src/folders/test/html\",\"files\":[\"contavts.html\",\"index.html\"],\"folders\":[[{\"folder\":\"./src/folders/test/html/css\",\"files\":[\"style.css\"],\"folders\":[[]]}]]},{\"folder\":\"./src/folders/test/js\",\"files\":[\"getter.js\",\"index.js\",\"scraper.js\",\"setter.js\"],\"folders\":[[]]},{\"folder\":\"./src/folders/test/lint\",\"files\":[\".initLint\",\".lint\"],\"folders\":[[]]},{\"folder\":\"./src/folders/test/php\",\"files\":[\"getter.php\",\"index.php\",\"scraper.php\"],\"folders\":[[]]},{\"folder\":\"./src/folders/test/ruby\",\"files\":[\"getterds.rb\",\"index.rb\",\"scrapereee.rb\"],\"folders\":[[]]}]]}]]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/data.json\n// module id = 4\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}